#KitchenSync Server
Spring Macalester 2014. COMP 225. This repository holds the server-side code for our android mobile application KitchenSync. The app code is located at http://github.com/NaOHman/KitchenSync
##Dependencies
Spark, Maven, Hibernate, JSon, JSoup, Postgress, Heroku
##Architecture
Our server uses Java Spark, a sinatra-inspired lightweight framework that provides a JSON API. Our server is hosted on a platform called Heroku that provides as scheduler add-on that allows us to schedule jobs that launches the CafeMacParser which connects to cafe mac's database and then creates a week object. The raw data from the Cafe Mac website is parsed using JSoup. The constructor of each of the model classes (Week, Day, Meal, Station, and Food) takes the relevant bit of HTML and then creates an object that corresponds. The java objects are mapped and saved using Hibernate to a postgreSQL database.

The CafeMacServer class provides the interface that our app connects with. It has a get method which returns a json object version of our week's menu. It also has a Post method which allows the app to post reviews to the database. **Do not change the model classes without making corresponding changes to the app**
##Testing
We tested different cases such as a blank url or a completely different url with a different template and so on to test our server. We also did many trial and errors on the localhost trying different queries to ensure that our database works fine which keeps our server from breaking. To test on localhost, you must configure the hibernate configuration accordingly. For our hibernate configuration, we have ours configured to our database on Heroku. Refer to http://jdbc.postgresql.org/documentation/80/connect.html to connect to the database of your choice. 
##Others and references
We used the sinatra-inspired lightweight framework Java Spark, which you can find more about on their website http://www.sparkjava.com/ and the tutorial we used primarily http://www.taywils.me/2013/11/05/javasparkframeworktutorial.html. Refer to Heroku's "Getting Started With Java on Heroku" on how we went about deploying our application on Heroku: https://www.google.com/search?q=heroku+java+deployment&ie=utf-8&oe=utf-8&aq=t&rls=org.mozilla:en-US:official&client=firefox-a&channel=fflb. Lastly, you can find how we mapped our java objects from our parser code using Hibernate, an object relational mapping java library, to our postgreSQL database on http://www.mkyong.com/tutorials/hibernate-tutorials/ and from our professor's example server https://github.com/pcantrell/jokes-spark
